<!-- (c) https://github.com/MontiCore/monticore -->

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://monticore.github.io/monticore/monticore-grammar/src/main/java/de/monticore/types/check/TypeCheck/">
      
      
      
      
      <link rel="icon" href="../../../../../../../../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.2">
    
    
      
        <title>TypeCheck - MontiCore</title>
      
    
    
      <link rel="stylesheet" href="../../../../../../../../../assets/stylesheets/main.d7758b05.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../../../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  
  <!-- Matomo -->
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(['disableCookies']);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="https://stats.fh-aachen.de/";
      _paq.push(['setTrackerUrl', u+'piwik.php']);
      _paq.push(['setSiteId', '35']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.async=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
    })();
  </script>
  <!-- End Matomo Code -->

  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#given-infrastructure-in-monticore" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../../../../../.." title="MontiCore" class="md-header__button md-logo" aria-label="MontiCore" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 0C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h176l-10.7 32H160c-17.7 0-32 14.3-32 32s14.3 32 32 32h256c17.7 0 32-14.3 32-32s-14.3-32-32-32h-69.3L336 416h176c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64zm448 64v224H64V64z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MontiCore
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              TypeCheck
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/MontiCore/monticore/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../../../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../../../../../docs/GettingStarted/" class="md-tabs__link">
        
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../../grammars/de/monticore/Grammars/" class="md-tabs__link">
          
  
  Core Grammars

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../../../../../docs/DevelopedLanguages/" class="md-tabs__link">
          
  
  Languages

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../../../../../docs/BestPractices/" class="md-tabs__link">
        
  
    
  
  Best Practices

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../../../../../00.org/Explanations/CHANGELOG/" class="md-tabs__link">
        
  
    
  
  Changelog

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../../../../../docs/Download/" class="md-tabs__link">
        
  
    
  
  Downloads

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../../../../../docs/Publications/" class="md-tabs__link">
        
  
    
  
  Publications

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../../../../../00.org/Licenses/LICENSE-MONTICORE-3-LEVEL/" class="md-tabs__link">
        
  
    
  
  License

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../../../../../.." title="MontiCore" class="md-nav__button md-logo" aria-label="MontiCore" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 0C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h176l-10.7 32H160c-17.7 0-32 14.3-32 32s14.3 32 32 32h256c17.7 0 32-14.3 32-32s-14.3-32-32-32h-69.3L336 416h176c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64zm448 64v224H64V64z"/></svg>

    </a>
    MontiCore
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/MontiCore/monticore/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../../../../docs/GettingStarted/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Core Grammars
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Core Grammars
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../grammars/de/monticore/Grammars/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../grammars/de/monticore/expressions/Expressions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Expressions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../grammars/de/monticore/literals/Literals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Literals
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../grammars/de/monticore/types/Types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Types
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Languages
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Languages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../../../../docs/DevelopedLanguages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Languages and Language Components
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../../../../docs/Languages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    List of Languages
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../../../../docs/BestPractices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Best Practices
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../../../../00.org/Explanations/CHANGELOG/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../../../../docs/Download/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Downloads
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../../../../docs/Publications/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Publications
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../../../../00.org/Licenses/LICENSE-MONTICORE-3-LEVEL/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>TypeCheck</h1>

<!-- (c) https://github.com/MontiCore/monticore -->

<!-- Alpha-version: This is intended to become a MontiCore stable explanation. -->

<p>In MontiCore, the TypeCheck is used to calculate the SymTypeExpression of a set of expressions, types and literals.
This is made possible by traversing the AST of an expression, type or literal, calculating the SymTypeExpression of its
subexpressions, -types or -literals and combining them to the SymTypeExpression of the main expression, type or literal.</p>
<h3 id="given-infrastructure-in-monticore">Given infrastructure in MontiCore</h3>
<ul>
<li><a href="../TypeCheck.java">TypeCheck</a> (facade for using the TypeCheck)</li>
<li><a href="../DeriveSymTypeOfExpression.java">DeriveSymTypeOfExpression</a> (calculate a SymTypeExpression for the expressions in the grammar ExpressionsBasis)</li>
<li><a href="../DeriveSymTypeOfCommonExpressions.java">DeriveSymTypeOfCommonExpressions</a> (calculate a SymTypeExpression for the expressions in the grammar CommonExpressions)</li>
<li><a href="../DeriveSymTypeOfAssignmentExpressions.java">DeriveSymTypeOfAssignmentExpressions</a> (calculate a SymTypeExpression for the expressions in the grammar AssignmentExpressions)</li>
<li><a href="../DeriveSymTypeOfBitExpressions.java">DeriveSymTypeOfBitExpressions</a> (calculate a SymTypeExpression for the expressions in the grammar BitExpressions)</li>
<li><a href="../DeriveSymTypeOfLiterals.java">DeriveSymTypeOfLiterals</a> (calculate a SymTypeExpression for the literals in the grammar LiteralsBasis)</li>
<li><a href="../DeriveSymTypeOfMCCommonLiterals.java">DeriveSymTypeOfMCCommonLiterals</a> (calculate a SymTypeExpression for the literals in the grammar MCCommonLiterals)</li>
<li><a href="../DeriveSymTypeOfMCJavaLiterals.java">DeriveSymTypeOfMCJavaLiterals</a> (calculate a SymTypeExpression for the literals in the grammar MCJavaLiterals)</li>
<li><a href="../SynthesizeSymTypeFromMCBasicTypes.java">SynthesizeSymTypeFromMCBasicTypes</a> (calculate a SymTypeExpression for the types in the grammar MCBasicTypes)</li>
<li><a href="../SynthesizeSymTypeFromMCCollectionTypes.java">SynthesizeSymTypeFromMCCollectionTypes</a> (calculate a SymTypeExpression for the types in the grammar MCCollectionTypes)</li>
<li><a href="../SynthesizeSymTypeFromMCSimpleGenericTypes.java">SynthesizeSymTypeFromMCSimpleGenericTypes</a> (calculate a SymTypeExpression for the types in the grammar MCSimpleGenericTypes)</li>
<li><a href="../SynthesizeSymTypeFromMCFullGenericTypes.java">SynthesizeSymTypeFromMCFullGenericTypes</a> (calculate a SymTypeExpression for the types in the grammar MCFullGenericTypes)</li>
<li><a href="../../../../../../grammars/de/monticore/symbols/BasicSymbols.mc4">BasicSymbols</a> (defines the symbols needed for the symboltable)</li>
<li><a href="../../../../../../grammars/de/monticore/symbols/OOSymbols.mc4">OOSymbols</a> (specialization of the BasicSymbols for object-oriented languages)</li>
<li><a href="../SymTypeExpression.java">SymTypeExpression</a> (result of the TypeCheck, represents type usage)</li>
<li><a href="../SymTypeArray.java">SymTypeArray</a> (subclass of SymTypeExpression, represents arrays)</li>
<li><a href="../SymTypePrimitive.java">SymTypePrimitive</a> (subclass of SymTypeExpression, represents primitive types)</li>
<li><a href="../SymTypeOfGenerics.java">SymTypeOfGenerics</a> (subclass of SymTypeExpression, represents generic types)</li>
<li><a href="../SymTypeOfObject.java">SymTypeOfObject</a> (subclass of SymTypeExpression, represents non-primitive types without type arguments)</li>
<li><a href="../SymTypeVariable.java">SymTypeVariable</a> (subclass of SymTypeExpression, represents type variables)</li>
<li><a href="../SymTypeOfNull.java">SymTypeOfNull</a> (subclass of SymTypeExpression, represents the null type)</li>
<li><a href="../SymTypeVoid.java">SymTypeVoid</a> (subclass of SymTypeExpression, represents the void type)</li>
<li><a href="../SymTypeOfWildcard.java">SymTypeOfWildcard</a> (subclass of SymTypeExpression, represents wildcard types)</li>
<li><a href="../SymTypeExpressionFactory.java">SymTypeExpressionFactory</a> (factory for creating the subclasses of SymTypeExpression)</li>
</ul>
<h3 id="what-is-the-difference-between-typesymbols-and-symtypeexpressions">What is the difference between TypeSymbols and SymTypeExpressions?</h3>
<p>The TypeCheck uses the TypeSymbols of the BasicSymbols grammar and the handwritten SymTypeExpressions.
While they are very similar, there is a big difference between them and when to use them.
The TypeSymbols represent a type definition (example in Java: class List<T>) while the SymTypeExpressions
represent a type usage (example in Java: List<String>). There is only one type definition, but there can
be many type usages. The SymTypeExpression knows its corresponding 
TypeSymbol (like the type usage knows its definition) and can refer to its methods and fields.</p>
<p>So when talking about a type definition, a type symbol, which can be stored and is
present only once in the symboltable, has to be used. A SymTypeExpression is not stored in the symboltable,
but refers to the definition of its type (its corresponding TypeSymbol) in the symboltable. Thus, a
SymTypeExpression can be used multiple times and represents the usage of a type.</p>
<h3 id="the-typecheck-facade">The TypeCheck facade</h3>
<p>The TypeCheck class of MontiCore is used as a facade to make TypeChecking easier for the user.
It needs a Derive-Class and/or a Synthesize-Class to be instantiated.
Here is a list of the methods and functions of the TypeCheck.
* SymTypeExpression typeOf(ASTExpression expr) (uses the Derive-Class to derive a SymTypeExpression from an ASTExpression)
* SymTypeExpression typeOf(ASTLiteral lit) (uses the Derive-Class to derive a SymTypeExpression from an ASTLiteral)
* SymTypeExpression symTypeFromAST(ASTType type) (uses the Synthesize-Class to derive a SymTypeExpression from an ASTType)
* static boolean compatible(SymTypeExpression left, SymTypeExpression right) (checks if the type of the right SymTypeExpression would be assignable to a variable with the type of the left SymTypeExpression)
* static boolean isSubTypeOf(SymTypeExpression sub, SymTypeExpression sup) (checks if the type of sub is a subtype of the type of sup)
* static boolean isInt(SymTypeExpression sym) (there are methods like this for all primitive types, checks if the SymTypeExpression represents the type 'int')</p>
<h3 id="how-does-the-typecheck-work">How does the TypeCheck work?</h3>
<p>The TypeCheck can be used to derive a SymTypeExpression from an expression or type.
For example, when using an ASTPlusExpression '3+4', the TypeCheck returns a SymTypeExpression
representing the type 'int'. You can use the ASTPlusExpression as a parameter for the 
method typeOf of the TypeCheck facade. This method delegates the calculation to your Derive-Class.
First it derives the SymTypeExpression of the subexpressions '3' and '4' (the LiteralExpressions
used in the PlusExpression) and then it calculates the SymTypeExpression of the whole PlusExpression
by combining the SymTypeExpressions of its subexpressions in the context of the '+' operator.</p>
<p>In general, the derivation of SymTypeExpressions for expressions first calculates the 
SymTypeExpressions of its subexpressions and (depending on the results) then combines these
SymTypeExpression adequately to one SymTypeExpression for the whole expression.</p>
<p>Deriving the SymTypeExpression of a type is often easier than deriving the SymTypeExpression
of an expression. The ASTMCPrimitiveType 'int' will result in a SymTypeExpression 'int', the 
ASTMCBasicGenericType 'java.util.Map<int, String>' will result in a SymTypeExpression 
'java.util.Map<int, String>'.</p>
<p>The derivation of types is very similar to the derivation of expressions with regard to 
subtypes and subexpressions. If a type has subtypes (like type arguments), then the SymTypeExpressions representing
these subtypes will be calculated first. They can be used to put together the SymTypeExpression
of the whole type.</p>
<p>Because both types and expressions are converted into SymTypeExpressions, you can compare them.
This is useful in the next example:</p>
<div class="highlight"><pre><span></span><code><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello&quot;</span><span class="p">;</span>
</code></pre></div>
<p>The SymTypeExpression derived from the ASTPrimitiveType 'int' will be 'int', the SymTypeExpression
derived from the ASTLiteralExpression "Hello" will be 'String'. In a CoCo, you can check if they are compatible by
using the function 'compatible' of the TypeCheck facade.</p>
<h3 id="i-want-to-write-a-coco-for-my-language-that-uses-the-typecheck-how">I want to write a CoCo for my language that uses the TypeCheck - How?</h3>
<p>You can use the TypeCheck facade. The facade needs a Derive-Class (for expressions
and literals) and/or a Synthesize-Class (for types) and calculates the SymTypeExpression of your
given expressions/literals/types.
<br/><br/>
Create a DelegatorVisitor which combines all expression grammars and literal grammars
used by your language. The DelegatorVisitor needs to implement the Interface
IDerive. Use this Delegator as Derive-Class in the TypeCheck facade. The
Synthesize-Class depends on the types grammar you use (see above-mentioned classes).
For an example of the Delegator-Visitor see 
<a href="../../../../../../../test/java/de/monticore/types/check/FullDeriveFromCombineExpressionsWithLiterals.java">here</a>.
<br/><br/>
If you want to create a Derive-Class for your expression/literal grammar, you have to
extend the Derive-Class of the supergrammar and implement the standard visitor of 
your language. There you can override the traverse methods for your expressions/literals
so that it calculates the SymTypeExpression of the expression/literal (see implementation in one of the
above-mentioned classes). You can add your visitor to the DelegatorVisitor later on.
For an example of the Derive-Class for one language see <a href="../DeriveSymTypeOfCommonExpressions.java">here</a>.
For an example of the Synthesize-Class for one language see <a href="../SynthesizeSymTypeFromMCCollectionTypes.java">here</a>
<br/><br/>
Writing a CoCo to check the correctness of your type/expression/literal should be easy now that you
have the TypeCheck facade to use. Just use the correct Derive-Class and/or the correct
Synthesize-Class as parameters and check if the SymTypeExpression of your expression or type is 
correctly calculated. <br/><br/>
Example for a CoCo:
<div class="highlight"><pre><span></span><code><span class="nd">@Override</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">check</span><span class="p">(</span><span class="n">ASTExpression</span><span class="w"> </span><span class="n">expr</span><span class="p">){</span>
<span class="w">    </span><span class="n">YourDeriveClass</span><span class="w"> </span><span class="n">deriveClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">YourDeriveClass</span><span class="p">(...);</span><span class="w"> </span><span class="c1">//instance of your Derive-Class</span>
<span class="w">    </span><span class="n">YourSynthesizeClass</span><span class="w"> </span><span class="n">synthesizeClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">YourSynthesizeClass</span><span class="p">(...);</span><span class="w"> </span><span class="c1">//instance of your Synthesize-Class</span>
<span class="w">    </span><span class="n">TypeCheck</span><span class="w"> </span><span class="n">check</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TypeCheck</span><span class="p">(</span><span class="n">synthesizeClass</span><span class="p">,</span><span class="n">deriveClass</span><span class="p">);</span><span class="w"> </span><span class="c1">//instance of the TypeCheck-facade, parameters are your Synthesize-Class and your Derive-Class</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="s">&quot;double&quot;</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">check</span><span class="p">.</span><span class="na">typeOf</span><span class="p">(</span><span class="n">expr</span><span class="p">).</span><span class="na">print</span><span class="p">())){</span><span class="w"> </span><span class="c1">//test if your expression is of the correct type (here: double)</span>
<span class="w">        </span><span class="n">Log</span><span class="p">.</span><span class="na">error</span><span class="p">(...);</span><span class="w"> </span><span class="c1">//your specified error message</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<p>An example for the case that a plus expression needs to return 'int' can be found
<a href="https://github.com/MontiCore/monticore/blob/opendev/monticore-test/monticore-grammar-it/src/main/java/mc/typescalculator/myownlanguage/_cocos/PlusExpressionReturnsInt.java">here</a>.</p>
<h2 id="further-information">Further Information</h2>
<ul>
<li><a href="https://github.com/MontiCore/monticore">Project root: MontiCore @github</a></li>
<li><a href="https://www.monticore.de/">MontiCore documentation</a></li>
<li><a href="https://github.com/MontiCore/monticore/blob/opendev/docs/Languages.md"><strong>List of languages</strong></a></li>
<li><a href="https://github.com/MontiCore/monticore/blob/opendev/monticore-grammar/src/main/grammars/de/monticore/Grammars.md"><strong>MontiCore Core Grammar Library</strong></a></li>
<li><a href="https://github.com/MontiCore/monticore/blob/opendev/docs/BestPractices.md">Best Practices</a></li>
<li><a href="https://www.se-rwth.de/publications/">Publications about MBSE and MontiCore</a></li>
<li><a href="https://github.com/MontiCore/monticore/blob/master/00.org/Licenses/LICENSE-MONTICORE-3-LEVEL.md">Licence definition</a></li>
</ul>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      (c) https://github.com/MontiCore/monticore
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../../../../../../..", "features": ["navigation.tabs", "toc.integrate", "toc.follow", "content.tabs.link", "content.code.copy"], "search": "../../../../../../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../../../../../../assets/javascripts/bundle.f13b1293.min.js"></script>
      
    
  </body>
</html>